'use strict';(function(){Polymer({is:'px-sample-dashboard',properties:{title:{type:String,value:''},mapData:{type:Object,value:function value(){return{}}},chartData:{type:Array,value:function value(){return[]}},_mapData:{type:Object,value:function value(){return this.mapData}},_costOfInvestment:{type:Number,value:0},_powerConsumption:{type:Number,value:0},_renewableOutput:{type:Number,value:0},_carbonOffset:{type:Number,value:0},_savingsResponse:{type:Object,value:function value(){return{}}},_carbonNuetralDate:{type:Number,value:2035,observer:'sliderChanged'},_residentialSliderPercentage:{type:Number,value:0,observer:'sliderChanged'},_commercialSliderPercentage:{type:Number,value:0,observer:'sliderChanged'},_industrialSliderPercentage:{type:Number,value:0,observer:'sliderChanged'},pieChartData:{type:Array,value:function value(){return[{'x':43.4,'y':'2018 Energy & Utility Budget','colorIndex':2,'backgroundColor':'rgb(123,188,0)'},{'x':1,'y':'Additional Recommended Subsidies','colorIndex':1,'backgroundColor':'rgb(226,141,23)'},{'x':15,'y':'Other Sources','colorIndex':0,'backgroundColor':'rgb(90,191,248)'}]}}},attached:function attached(){this.set('_mapData',Object.assign({},this.mapData));var markers=this.$.markers;markers.set('data',this._mapData);markers.update()},updateMap:function updateMap(evt){this.debounce('mapUpdate',function(){if(evt.detail.value===0)return;var percent;if(evt.target.id==='res'){percent=100000*parseInt(evt.detail.value)/100}else{percent=1000*parseInt(evt.detail.value)/100}var arr=this.mapData.features.slice(0,percent);this.set('_mapData.type','FeatureCollection');this.set('_mapData.features',arr);var markers=this.$.markers;markers.set('data',this._mapData);markers.update()},100)},handleSavingsResponse:function handleSavingsResponse(e){this._powerConsumption=(this._savingsResponse.PredictedConsumptionKWH/1000000).toLocaleString();this._renewableOutput=(this._savingsResponse.SolarEnergyGenerationKWH/1000000).toLocaleString();this._costOfInvestment=(this._savingsResponse.InitialCost/1000000).toLocaleString();this._carbonOffset=(this._savingsResponse.SolarOffsetKWH/1000000).toLocaleString()},sliderChanged:function sliderChanged(e){// console.log("world");
var base='https://savings-app.run.aws-usw02-pr.ice.predix.io';var res=this._residentialSliderPercentage/100*500000;var com=this._commercialSliderPercentage/100*10000;var ind=this._industrialSliderPercentage/100*2000;var cn=this._carbonNuetralDate;this.$.savingsCalc.url=base+'/v1/savings?com='+com+'&res='+res+'&ind='+ind+'&targetYear='+cn;// console.log(this.$.savingsCalc.url);
this.$.savingsCalc.generateRequest()}})})();
//# sourceMappingURL=px-sample-dashboard.js.map
