{"version":3,"sources":["px-sample-dashboard.es6.js"],"names":["Polymer","is","properties","title","type","String","value","mapData","Object","chartData","Array","_mapData","_costOfInvestment","Number","_powerConsumption","_renewableOutput","_carbonOffset","_savingsResponse","_carbonNuetralDate","observer","_residentialSliderPercentage","_commercialSliderPercentage","_industrialSliderPercentage","pieChartData","attached","set","assign","markers","$","update","updateMap","evt","debounce","detail","percent","target","id","parseInt","arr","features","slice","handleSavingsResponse","e","PredictedConsumptionKWH","toLocaleString","SolarEnergyGenerationKWH","InitialCost","SolarOffsetKWH","sliderChanged","base","res","com","ind","cn","savingsCalc","url","generateRequest"],"mappings":"aAAA,CAAC,UAAY,CACXA,QAAQ,CACNC,GAAI,qBADE,CAENC,WAAY,CACVC,MAAO,CACLC,KAAMC,MADD,CAELC,MAAO,EAFF,CADG,CAKVC,QAAS,CACPH,KAAMI,MADC,CAEPF,MAAO,gBAAW,CAChB,MAAO,EACR,CAJM,CALC,CAWVG,UAAW,CACTL,KAAMM,KADG,CAETJ,MAAO,gBAAW,CAChB,MAAO,EACR,CAJQ,CAXD,CAiBVK,SAAU,CACRP,KAAMI,MADE,CAERF,MAAO,gBAAW,CAChB,MAAO,MAAKC,OACb,CAJO,CAjBA,CAuBVK,kBAAmB,CACjBR,KAAMS,MADW,CAEjBP,MAAO,CAFU,CAvBT,CA2BVQ,kBAAmB,CACjBV,KAAMS,MADW,CAEjBP,MAAO,CAFU,CA3BT,CA+BVS,iBAAkB,CAChBX,KAAMS,MADU,CAEhBP,MAAO,CAFS,CA/BR,CAmCVU,cAAe,CACbZ,KAAMS,MADO,CAEbP,MAAO,CAFM,CAnCL,CAuCVW,iBAAkB,CAChBb,KAAMI,MADU,CAEhBF,MAAO,gBAAW,CAChB,MAAO,EACR,CAJe,CAvCR,CA6CVY,mBAAoB,CAClBd,KAAMS,MADY,CAElBP,MAAO,IAFW,CAGlBa,SAAU,eAHQ,CA7CV,CAkDVC,6BAA8B,CAC5BhB,KAAMS,MADsB,CAE5BP,MAAO,CAFqB,CAG5Ba,SAAU,eAHkB,CAlDpB,CAuDVE,4BAA6B,CAC3BjB,KAAMS,MADqB,CAE3BP,MAAO,CAFoB,CAG3Ba,SAAU,eAHiB,CAvDnB,CA4DVG,4BAA6B,CAC3BlB,KAAMS,MADqB,CAE3BP,MAAO,CAFoB,CAG3Ba,SAAU,eAHiB,CA5DnB,CAiEVI,aAAc,CACZnB,KAAMM,KADM,CAEZJ,MAAO,gBAAW,CAChB,MAAO,CAAC,CACN,IAAK,IADC,CAEN,IAAK,8BAFC,CAGN,aAAc,CAHR,CAIN,kBAAmB,gBAJb,CAAD,CAKJ,CACD,IAAK,CADJ,CAED,IAAK,kCAFJ,CAGD,aAAc,CAHb,CAID,kBAAmB,iBAJlB,CALI,CAUJ,CACD,IAAK,EADJ,CAED,IAAK,eAFJ,CAGD,aAAc,CAHb,CAID,kBAAmB,iBAJlB,CAVI,CAgBR,CAnBW,CAjEJ,CAFN,CAyFNkB,QAzFM,oBAyFK,CACT,KAAKC,GAAL,CAAS,UAAT,CAAqBjB,OAAOkB,MAAP,CAAc,EAAd,CAAkB,KAAKnB,OAAvB,CAArB,EACA,GAAIoB,SAAU,KAAKC,CAAL,CAAOD,OAArB,CACAA,QAAQF,GAAR,CAAY,MAAZ,CAAoB,KAAKd,QAAzB,EACAgB,QAAQE,MAAR,EACD,CA9FK,CA+FNC,SA/FM,oBA+FIC,GA/FJ,CA+FS,CACb,KAAKC,QAAL,CAAc,WAAd,CAA2B,UAAW,CACpC,GAAGD,IAAIE,MAAJ,CAAW3B,KAAX,GAAqB,CAAxB,CAA2B,OAC3B,GAAI4B,QAAJ,CACA,GAAGH,IAAII,MAAJ,CAAWC,EAAX,GAAkB,KAArB,CAA4B,CAC1BF,QAAU,OAASG,SAASN,IAAIE,MAAJ,CAAW3B,KAApB,CAAT,CAAsC,GACjD,CAFD,IAGK,CACH4B,QAAU,KAAOG,SAASN,IAAIE,MAAJ,CAAW3B,KAApB,CAAP,CAAoC,GAC/C,CACD,GAAIgC,KAAM,KAAK/B,OAAL,CAAagC,QAAb,CAAsBC,KAAtB,CAA4B,CAA5B,CAA+BN,OAA/B,CAAV,CACA,KAAKT,GAAL,CAAS,eAAT,CAA0B,mBAA1B,EACA,KAAKA,GAAL,CAAS,mBAAT,CAA8Ba,GAA9B,EACA,GAAIX,SAAU,KAAKC,CAAL,CAAOD,OAArB,CACAA,QAAQF,GAAR,CAAY,MAAZ,CAAoB,KAAKd,QAAzB,EACAgB,QAAQE,MAAR,EACD,CAfD,CAeE,GAfF,CAgBD,CAhHK,CAiHNY,qBAjHM,gCAiHgBC,CAjHhB,CAiHmB,CACvB,KAAK5B,iBAAL,CAAyB,CAAC,KAAKG,gBAAL,CAAsB0B,uBAAtB,CAAgD,OAAjD,EAA0DC,cAA1D,EAAzB,CACA,KAAK7B,gBAAL,CAAwB,CAAC,KAAKE,gBAAL,CAAsB4B,wBAAtB,CAAiD,OAAlD,EAA2DD,cAA3D,EAAxB,CACA,KAAKhC,iBAAL,CAAyB,CAAC,KAAKK,gBAAL,CAAsB6B,WAAtB,CAAoC,OAArC,EAA8CF,cAA9C,EAAzB,CACA,KAAK5B,aAAL,CAAqB,CAAC,KAAKC,gBAAL,CAAsB8B,cAAtB,CAAuC,OAAxC,EAAiDH,cAAjD,EACtB,CAtHK,CAuHNI,aAvHM,wBAuHQN,CAvHR,CAuHW,CACf;AACA,GAAIO,MAAO,oDAAX,CAEA,GAAIC,KAAO,KAAK9B,4BAAL,CAAoC,GAArC,CAA4C,MAAtD,CACA,GAAI+B,KAAO,KAAK9B,2BAAL,CAAmC,GAApC,CAA2C,KAArD,CACA,GAAI+B,KAAO,KAAK9B,2BAAL,CAAmC,GAApC,CAA2C,IAArD,CACA,GAAI+B,IAAK,KAAKnC,kBAAd,CAEA,KAAKU,CAAL,CAAO0B,WAAP,CAAmBC,GAAnB,CAAyBN,KAAO,kBAAP,CAA4BE,GAA5B,CAAkC,OAAlC,CAA4CD,GAA5C,CAAkD,OAAlD,CAA4DE,GAA5D,CAAkE,cAAlE,CAAmFC,EAA5G,CACA;AACA,KAAKzB,CAAL,CAAO0B,WAAP,CAAmBE,eAAnB,EACD,CAnIK,CAAR,CAqID,CAtID","file":"px-sample-dashboard.js","sourcesContent":["(function () {\n  Polymer({\n    is: 'px-sample-dashboard',\n    properties: {\n      title: {\n        type: String,\n        value: \"\"\n      },\n      mapData: {\n        type: Object,\n        value: function() {\n          return {};\n        }\n      },\n      chartData: {\n        type: Array,\n        value: function() {\n          return [];\n        }\n      },\n      _mapData: {\n        type: Object,\n        value: function() {\n          return this.mapData;\n        }\n      },\n      _costOfInvestment: {\n        type: Number,\n        value: 0\n      },\n      _powerConsumption: {\n        type: Number,\n        value: 0\n      },\n      _renewableOutput: {\n        type: Number,\n        value: 0\n      },\n      _carbonOffset: {\n        type: Number,\n        value: 0\n      },\n      _savingsResponse: {\n        type: Object,\n        value: function() {\n          return {};\n        }\n      },\n      _carbonNuetralDate: {\n        type: Number,\n        value: 2035,\n        observer: 'sliderChanged'\n      },\n      _residentialSliderPercentage: {\n        type: Number,\n        value: 0,\n        observer: 'sliderChanged'\n      },\n      _commercialSliderPercentage: {\n        type: Number,\n        value: 0,\n        observer: 'sliderChanged'\n      },\n      _industrialSliderPercentage: {\n        type: Number,\n        value: 0,\n        observer: 'sliderChanged'\n      },\n      pieChartData: {\n        type: Array,\n        value: function() {\n          return [{\n            \"x\": 43.4,\n            \"y\": \"2018 Energy & Utility Budget\",\n            \"colorIndex\": 2,\n            \"backgroundColor\": \"rgb(123,188,0)\"\n          }, {\n            \"x\": 1,\n            \"y\": \"Additional Recommended Subsidies\",\n            \"colorIndex\": 1,\n            \"backgroundColor\": \"rgb(226,141,23)\"\n          }, {\n            \"x\": 15,\n            \"y\": \"Other Sources\",\n            \"colorIndex\": 0,\n            \"backgroundColor\": \"rgb(90,191,248)\"\n          }]\n        }\n      }\n    },\n    attached() {\n      this.set('_mapData', Object.assign({}, this.mapData));\n      var markers = this.$.markers;\n      markers.set('data', this._mapData);\n      markers.update();\n    },\n    updateMap(evt) {\n      this.debounce('mapUpdate', function() {\n        if(evt.detail.value === 0) return;\n        var percent;\n        if(evt.target.id === \"res\") {\n          percent = 100000 * parseInt(evt.detail.value) / 100;\n        }\n        else {\n          percent = 1000 * parseInt(evt.detail.value) / 100;\n        }\n        var arr = this.mapData.features.slice(0, percent);\n        this.set('_mapData.type', 'FeatureCollection');\n        this.set('_mapData.features', arr);\n        var markers = this.$.markers;\n        markers.set('data', this._mapData);\n        markers.update();\n      },100);\n    },\n    handleSavingsResponse(e) {\n      this._powerConsumption = (this._savingsResponse.PredictedConsumptionKWH / 1000000).toLocaleString();\n      this._renewableOutput = (this._savingsResponse.SolarEnergyGenerationKWH / 1000000).toLocaleString();\n      this._costOfInvestment = (this._savingsResponse.InitialCost / 1000000).toLocaleString();\n      this._carbonOffset = (this._savingsResponse.SolarOffsetKWH / 1000000).toLocaleString();\n    },\n    sliderChanged(e) {\n      // console.log(\"world\");\n      var base = \"https://savings-app.run.aws-usw02-pr.ice.predix.io\";\n\n      var res = (this._residentialSliderPercentage / 100) * 500000;\n      var com = (this._commercialSliderPercentage / 100) * 10000;\n      var ind = (this._industrialSliderPercentage / 100) * 2000;\n      var cn = this._carbonNuetralDate;\n\n      this.$.savingsCalc.url = base + \"/v1/savings?com=\" + com + \"&res=\" + res + \"&ind=\" + ind + \"&targetYear=\" + cn;\n      // console.log(this.$.savingsCalc.url);\n      this.$.savingsCalc.generateRequest();\n    }\n  });\n})();\n"]}